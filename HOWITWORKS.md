# –†–µ–≤–µ—Ä—Å-–∏–Ω–∂–µ–Ω–µ—Ä–∏–º API –ê–°–£ –†–°–û

<!-- TOC-START -->
## –¢–∞–±–ª–∏—Ü–∞ –∫–æ–Ω—Ç–µ–Ω—Ç–∞

- [–†–µ–≤–µ—Ä—Å-–∏–Ω–∂–µ–Ω–µ—Ä–∏–º API –ê–°–£ –†–°–û](#—Ä–µ–≤–µ—Ä—Å–∏–Ω–∂–µ–Ω–µ—Ä–∏–º-api-–∞—Å—É-—Ä—Å–æ)
  - [–í—Ö–æ–¥ –≤ –∞–∫–∫–∞—É–Ω—Ç](#–≤—Ö–æ–¥-–≤-–∞–∫–∫–∞—É–Ω—Ç)
  - [–ó–∞–ø—Ä–æ—Å—ã –∫ —Å–µ—Ä–≤–µ—Ä—É](#–∑–∞–ø—Ä–æ—Å—ã-–∫-—Å–µ—Ä–≤–µ—Ä—É)
  - [ID —Ä–∞–∑–Ω—ã—Ö –≤–µ—â–µ–π](#id-—Ä–∞–∑–Ω—ã—Ö-–≤–µ—â–µ–π)
  - [–ü–æ—á—Ç–∞](#–ø–æ—á—Ç–∞)
  - [–ù–æ–≤–æ—Å—Ç–∏ (–æ–±—ä—è–≤–ª–µ–Ω–∏—è)](#–Ω–æ–≤–æ—Å—Ç–∏-–æ–±—ä—è–≤–ª–µ–Ω–∏—è)
  - [–ü–æ—Ä—Ç—Ñ–æ–ª–∏–æ](#–ø–æ—Ä—Ç—Ñ–æ–ª–∏–æ)
  - [–ó–∞–ø—Ä–æ—Å –≥–µ–Ω–µ—Ä–∞—Ü–∏–∏ —Ñ–∞–π–ª–æ–≤ –∏ —Ä–∞–±–æ—Ç–∞ –≤ real-time](#–∑–∞–ø—Ä–æ—Å-–≥–µ–Ω–µ—Ä–∞—Ü–∏–∏-—Ñ–∞–π–ª–æ–≤-–∏-—Ä–∞–±–æ—Ç–∞-–≤-realtime)
  - [–§–æ—Ä—É–º](#—Ñ–æ—Ä—É–º)
  - [–û—Ç–≤–µ—Ç—ã –Ω–∞ –∑–∞–¥–∞–Ω–∏—è](#–æ—Ç–≤–µ—Ç—ã-–Ω–∞-–∑–∞–¥–∞–Ω–∏—è)
  - [–ó–∞–≥—Ä—É–∑–∫–∞ —Ñ–∞–π–ª–æ–≤](#–∑–∞–≥—Ä—É–∑–∫–∞-—Ñ–∞–π–ª–æ–≤)
  - [–î—Ä—É–≥–∏–µ –∏–Ω—Ç–µ—Ä–µ—Å–Ω–æ—Å—Ç–∏](#–¥—Ä—É–≥–∏–µ-–∏–Ω—Ç–µ—Ä–µ—Å–Ω–æ—Å—Ç–∏)
<!-- TOC-END -->

–ó–¥–µ—Å—å –æ–ø–∏—Å–∞–Ω—ã –º–æ–∏ –∑–∞–º–µ—Ç–∫–∏ –æ —Ç–æ–º, –∫–∞–∫ —Ä–∞–±–æ—Ç–∞–µ—Ç –∏—Ö –∞–ø–∏. –û—á–µ–Ω—å –Ω–∞–¥–µ—é—Å—å, –∫–æ–º–∞–Ω–¥–∞ —Ä–∞–∑—Ä–∞–±–æ—Ç—á–∏–∫–æ–≤ –Ω–µ —É–≤–∏–¥–∏—Ç —ç—Ç—É –±–∏–±–ª–∏–æ—Ç–µ–∫—É –∏ –Ω–µ –ø–æ–º–µ–Ω—è–µ—Ç –Ω–∏—á–µ–≥–æ :)

**‚ö†Ô∏è –í–ê–ñ–ù–û! –≠—Ç–æ –Ω–µ –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è –ø–∞–∫–µ—Ç–∞, –µ—Å–ª–∏ –≤—ã –ø—Ä–æ—Å—Ç–æ —Ö–æ—Ç–∏—Ç–µ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å –±–∏–±–ª–∏–æ—Ç–µ–∫—É, –ø–µ—Ä–µ–π–¥–∏—Ç–µ –Ω–∞ —Å—Ç—Ä–∞–Ω–∏—Ü—É [README.md](README.md)‚ö†Ô∏è**

## –í—Ö–æ–¥ –≤ –∞–∫–∫–∞—É–Ω—Ç

–ê–≤—Ç–æ—Ä–∏–∑–∞—Ü–∏—è –≤—Å–µ—Ö –∑–∞–ø—Ä–æ—Å–æ–≤ –±–∞–∑–∏—Ä—É–µ—Ç—Å—è –≤—Å–µ–≥–æ –Ω–∞ –¥–≤—É—Ö –∫–ª—é—á–∞—Ö: –∫—É–∫–∏ ESRNSec –∏ –∑–∞–≥–æ–ª–æ–≤–æ–∫ at. –û–±–∞ –ø–æ–ª—É—á–∞—é—Ç—Å—è –≤–æ –≤—Ä–µ–º—è –∞–≤—Ç–æ—Ä–∏–∑–∞—Ü–∏–∏ —Å –ø–æ–º–æ—â—å—é –ª–æ–≥–∏–Ω–∞ –∏ –ø–∞—Ä–æ–ª—è. –õ–µ–∑—Ç—å –≤ –≥–æ—Å—É—Å–ª—É–≥–∏ —è –Ω–µ —Ö–æ—á—É –∏ –Ω–µ –±—É–¥—É, –º–æ–∂–µ—Ç –ø–æ—Å–ª–µ —Ç–æ–≥–æ –∫–∞–∫ —É–µ–¥—É –∏–∑ –†–æ—Å—Å–∏–∏ –ø–æ–ø—Ä–æ–±—É—é –æ–ø–∏—Å–∞—Ç—å –∏—Ö –∞–ø–∏.

–î–ª—è –∞–≤—Ç–æ—Ä–∏–∑–∞—Ü–∏–∏ –Ω—É–∂–Ω–æ:

1.  –°–¥–µ–ª–∞—Ç—å POST –∑–∞–ø—Ä–æ—Å –Ω–∞ `https://asurso.ru/webapi/auth/getdata`

–ú—ã –ø–æ–ª—É—á–∏–º –æ—Ç–≤–µ—Ç –≤ JSON –∏ –∫—É–∫–∏ `NSSESSIONID`

```
{
  "lt": "—á–∏—Å–ª–æ 1*",
  "ver": "—á–∏—Å–ª–æ 2*",
  "salt": "—á–∏—Å–ª–æ 3*"
}
```

2.  –°–¥–µ–ª–∞—Ç—å POST –∑–∞–ø—Ä–æ—Å –Ω–∞ `https://asurso.ru/webapi/login` —Å –∫—É–∫–∏ `NSSESSIONID` –∏ —Ç–µ–ª–æ–º –≤ x-www-form-urlencoded –≤ —Å–ª–µ–¥—É—é—â–µ–º —Ñ–æ—Ä–º–∞—Ç–µ:

```
  LoginType: 1
  cid: [id —Å—Ç—Ä–∞–Ω—ã, –≤—Å–µ–≥–¥–∞ 2]
  sid: [id —Ä–µ–≥–∏–æ–Ω–∞]
  pid: [id –æ–∫—Ä—É–≥–∞/—Ä–∞–π–æ–Ω–∞]
  cn: [id –≥–æ—Ä–æ–¥–∞]
  sft: [id –¢–ò–ü–ê –æ–±—Ä–∞–∑–æ–≤–∞—Ç–µ–ª—å–Ω–æ–π –æ—Ä–≥–∞–Ω–∏–∑–∞—Ü–∏–∏]
  scid: [id –æ–±—Ä–∞–∑–æ–≤–∞—Ç–µ–ª—å–Ω–æ–π –æ—Ä–≥–∞–Ω–∏–∑–∞—Ü–∏–∏]
  UN: [–ª–æ–≥–∏–Ω, —Å—Ç—Ä–æ–∫–∞]
  PW: [–ø–µ—Ä–≤—ã–µ 9 —Å–∏–º–≤–æ–ª–æ–≤ —Ö–µ—à–∞ –ø–∞—Ä–æ–ª—è]
  lt: [—á–∏—Å–ª–æ 1*]
  pw2: [–ø–æ–ª–Ω—ã–π —Ö–µ—à –ø–∞—Ä–æ–ª—è]
  ver: [—á–∏—Å–ª–æ 2*]
```

**–í—Å–µ ID –≤—ã –º–æ–∂–µ—Ç–µ –Ω–∞–π—Ç–∏ –≤ —Ñ–∞–π–ª–µ [LOGINIDS.md](LOGINIDS.md)**

–ß—Ç–æ–±—ã –ø–æ–ª—É—á–∏—Ç—å –∑–Ω–∞—á–µ–Ω–∏—è –ø–æ–ª–µ–π PW –∏ pw2 –Ω–µ–æ–±—Ö–æ–¥–∏–º–æ –≤–∑—è—Ç—å –≤–∞—à –ø–∞—Ä–æ–ª—å, —Ö–µ—à–∏—Ä–æ–≤–∞—Ç—å –µ–≥–æ —Å MD5, –∞ –∑–∞—Ç–µ–º –≤–Ω–∞—á–∞–ª–µ –∫–æ–Ω–∫–∞—Ç–µ–Ω–∏—Ä–æ–≤–∞—Ç—å –∫ –Ω–µ–º—É –ø–æ–ª—É—á–µ–Ω–Ω—É—é –≤ 1 —à–∞–≥–µ —Å–æ–ª—å (—á–∏—Å–ª–æ 3\*) –∏ —Å–Ω–æ–≤–∞ —Ö–µ—à–∏—Ä–æ–≤–∞—Ç—å. –¢–∞–∫–∏–º –æ–±—Ä–∞–∑–æ–º –ø–æ–ª–Ω–æ—Å—Ç—å—é –∞–ª–≥–æ—Ä–∏—Ç–º –±—É–¥–µ—Ç –≤—ã–≥–ª—è–¥–µ—Ç—å —Ç–∞–∫:

`pw2 = md5((—á–∏—Å–ª–æ 3*) + md5(password))`

–ó–∞—á–µ–º —Ö–µ—à–∏—Ä–æ–≤–∞—Ç—å –ø–∞—Ä–æ–ª—å –Ω–∞ —Ñ—Ä–æ–Ω—Ç–µ–Ω–¥–µ –¥–∞ –µ—â–µ –∏ —Å MD5 –ª—É—á—à–µ —Å–ø—Ä–æ—Å–∏—Ç–µ —Ä–∞–∑—Ä–∞–±–æ—Ç—á–∏–∫–∞ tls –∏ –∞—Å—É—Ä—Å–æ)

3.  –í –æ—Ç–≤–µ—Ç –º—ã –ø–æ–ª—É—á–∏–º JSON —Å–ª–µ–¥—É—é—â–µ–≥–æ –≤–∏–¥–∞:

```
{
  "at": "[—á–∏—Å–ª–æ at]",
  "code": null,
  "timeOut": 3600000,
  "accessToken": "...",
  "refreshToken": "...",
  "accountInfo": {
    "activeToken": null,
    "secureActiveToken": "...",
    "currentOrganization": {
      "id": ...,
      "name": "..."
    },
    "user": {
      "id": ...,
      "name": "..."
    },
    "userRoles": [],
    "organizations": [
      {
        "id": ...,
        "name": "..."
      },
      {
        "id": ...,
        "name": "..."
      }
    ],
    "loginTime": "2022-01-13T22:37:38.7883797",
    "active": true,
    "canLogin": true,
    "storeTokens": true,
    "accessToken": "..."
  },
  "tokenType": "Bearer",
  "entryPoint": "/asp/SecurityWarning.asp",
  "requestData": {
    "warnType": "1"
  },
  "errorMessage": null
}
```

–û—Ç—Å—é–¥–∞ –Ω–∞–º –Ω—É–∂–Ω–æ –ª–∏—à—å —á–∏—Å–ª–æ at, –µ–≥–æ –æ—á–µ–Ω—å –≤–∞–∂–Ω–æ —Å–æ—Ö—Ä–∞–Ω–∏—Ç—å, –≤–µ–¥—å –±–µ–∑ –Ω–µ–≥–æ –≤—ã –Ω–µ —Å–º–æ–∂–µ—Ç–µ –¥–µ–ª–∞—Ç—å –Ω–∏ –æ–¥–∏–Ω –∑–∞–ø—Ä–æ—Å. –ë–æ–ª–µ–µ —Ç–æ–≥–æ, –æ–Ω–æ –∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è –≤ –±—Ä–∞—É–∑–µ—Ä–µ, –≤–µ–¥—å –∫–æ–≥–¥–∞ –≤—ã –≤—Ö–æ–¥–∏—Ç–µ –≤ —Å–∏—Å—Ç–µ–º—É —ç—Ç–æ —á–∏—Å–ª–æ –±—É–¥–µ—Ç –ø–æ—Å—Ç–æ—è–Ω–Ω–æ —Å –≤–∞–º–∏, –∞ –ø—Ä–∏ –ø–µ—Ä–µ—Ö–æ–¥–µ –≤—ã –¥–µ–ª–∞–µ—Ç–µ –Ω–µ GET –∞ POST –∑–∞–ø—Ä–æ—Å. –ú–Ω–µ —Ç–∞–∫–∞—è –ª–æ–≥–∏–∫–∞ –∫–∞–∂–µ—Ç—Å—è –æ—á–µ–Ω—å —Å—Ç—Ä–∞–Ω–Ω–æ–π, –≤–µ–¥—å –µ—Å–ª–∏ –æ–±–Ω–æ–≤–∏—Ç—å —Å—Ç—Ä–∞–Ω–∏—Ü—É, —á–∏—Å–ª–æ –ø–æ—Ç–µ—Ä—è–µ—Ç—Å—è –∏–∑-–∑–∞ —É–¥–∞–ª–µ–Ω–∏—è —Å–µ—Å—Å–∏–∏ –≤ –±—Ä–∞—É–∑–µ—Ä–µ, –Ω–æ –Ω–µ –Ω–∞ –±–µ–∫–µ–Ω–¥–µ.

–ö–æ—Ä–æ—á–µ, –∑–∞–±–∏—Ä–∞–π—Ç–µ "at" –∏ –∏–¥–µ–º –¥–∞–ª—å—à–µ.

**–ö—É–∫–∏ ESRNSec —Å—Ç–∞–≤–∏—Ç—Å—è —Å–∞–º–∏–º –∑–∞–ø—Ä–æ—Å–æ–º (–∑–∞–≥–æ–ª–æ–≤–æ–∫ set-cookie). –°–∞–º–æ—Å—Ç–æ—è—Ç–µ–ª—å–Ω–æ –≥–µ–Ω–µ—Ä–∏—Ä–æ–≤–∞—Ç—å –Ω–∏—á–µ–≥–æ –Ω–µ –Ω—É–∂–Ω–æ, –ø—Ä–æ—Å—Ç–æ —Å–æ—Ö—Ä–∞–Ω–∏—Ç–µ –∑–Ω–∞—á–µ–Ω–∏–µ.**

## –ó–∞–ø—Ä–æ—Å—ã –∫ —Å–µ—Ä–≤–µ—Ä—É

–í—Å–µ –∑–∞–ø—Ä–æ—Å—ã, –∫—Ä–æ–º–µ —Ç–µ—Ö, —á—Ç–æ –¥–ª—è –≤—Ö–æ–¥–∞, –¥–æ–ª–∂–Ω—ã —Å–æ–¥–µ—Ä–∂–∞—Ç—å –≤ —Å–µ–±–µ –∑–∞–≥–æ–ª–æ–≤–æ–∫ at —Å –∫–ª—é—á–æ–º. –î–ª—è –≤—Ö–æ–¥–∞ —Ç–∞–∫–∂–µ –Ω–µ –∑–∞–±—É–¥—å—Ç–µ –¥–æ–±–∞–≤–∏—Ç—å `referrer: https://asurso.ru/about.html`

–í–∞–º –ø–æ–Ω–∞–¥–æ–±–∏—Ç—Å—è –ø–æ–ª—É—á–∏—Ç—å studentID, –≤ –±—Ä–∞—É–∑–µ—Ä–µ –æ–Ω –ø–æ–ª—É—á–∞–µ—Ç—Å—è –ø—Ä–∏ GET –∑–∞–ø—Ä–æ—Å–µ –Ω–∞ `https://asurso.ru/webapi/student/diary/init` –í –º–∞—Å—Å–∏–≤–µ students –±–µ—Ä–µ–º –ø–µ—Ä–≤—ã–π –∏ –µ–¥–∏–Ω—Å—Ç–≤–µ–Ω–Ω—ã–π –æ–±—ä–µ–∫—Ç –∏ —Ç–∞–º —É–∂–µ –Ω–∞—Ö–æ–¥–∏–º –ø–æ–ª–µ studentId.

–ï—Å–ª–∏ –≤—ã –ø–æ—Ö–æ–¥–∏—Ç–µ –ø–æ —Å–∞–π—Ç—É —Ç–æ —É–≤–∏–¥–∏—Ç–µ —á—Ç–æ –∏–Ω–æ–≥–¥–∞ –¥–µ–ª–∞—é—Ç—Å—è –∑–∞–ø—Ä–æ—Å—ã html —Ç–µ–º–ø–ª–µ–π—Ç–æ–≤, –Ω–∞–ø—Ä–∏–º–µ—Ä pastmandatory.component –∏ diaryday.component, –Ω–µ –∑–Ω–∞—é –∑–∞—á–µ–º —ç—Ç–æ –Ω—É–∂–Ω–æ. –≠—Ç–æ —á—Ç–æ-—Ç–æ –Ω–∞ –∞–Ω–≥—É–ª—è—Ä—Å–∫–æ–º üò¨

## ID —Ä–∞–∑–Ω—ã—Ö –≤–µ—â–µ–π

–í –æ—Å–Ω–æ–≤–Ω–æ–º —è —Å–æ–±–∏—Ä–∞–ª –∏—Ö —á–µ—Ä–µ–∑ –∑–Ω–∞—á–µ–Ω–∏—è –≤–Ω—É—Ç—Ä–∏ select, –Ω–æ –Ω–µ–∫–æ—Ç–æ—Ä—ã–µ –ø—Ä–∏—à–ª–æ—Å—å –ø–∞—Ä—Å–∏—Ç—å.

## –ü–æ—á—Ç–∞

–ü–æ–ª—É—á–µ–Ω–∏–µ –ø–æ—á—Ç—ã –ø—Ä–æ–∏—Å—Ö–æ–¥–∏—Ç –æ—Ç–ø—Ä–∞–≤–∫–æ–π GET –∑–∞–ø—Ä–æ—Å–∞ –Ω–∞ `https://asurso.ru/asp/ajax/GetMessagesAjax.asp` —Å query-–ø–∞—Ä–∞–º–µ—Ç—Ä–∞–º–∏ AT, nBoxID, jtStartIndex, jtPageSize

–î–ª—è –æ—Ç–ø—Ä–∞–≤–∫–∏ –∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è —Ñ–æ—Ä–º–∞ –∏ POST-–∑–∞–ø—Ä–æ—Å –Ω–∞ `https://asurso.ru/asp/Messages/sendsavemsg.asp` —Å content-type: application/x-www-form-urlencoded —Å–æ —Å–ª–µ–¥—É—é—â–∏–º–∏ –ø–∞—Ä–∞–º–µ—Ç—Ä–∞–º–∏:

```
LoginType: 0
AT: –≤–∞—à–¢–æ–∫–µ–ΩAt
AntiForgeryToken: xsrf–¢–æ–∫–µ–Ω
MID:
MBID: 3
LTO: ID–ø–æ–ª—É—á–∞—Ç–µ–ª—è
LCC:
LBC:
TA:
NA:
PP:
DMID:
RT:
DESTINATION:
ShortAttach: 1
EDITUSERID: ID–æ—Ç–ø—Ä–∞–≤–∏—Ç–µ–ª—è
ACC:
ABC:
SU: —Ç–µ–º–∞–ü–∏—Å—å–º–∞
BO: —Ç–µ–ª–æ–ü–∏—Å—å–º–∞
STMSGREPORT:
```

VER, ATO, ACC, ABC, NEEDNOTIFY –Ω–µ–æ–±—è–∑–∞—Ç–µ–ª—å–Ω—ã–µ

LoginType, MBID, ShortAttach —ç—Ç–æ –∫–æ–Ω—Å—Ç–∞–Ω—Ç—ã

AntiForgeryToken –º–æ–∂–Ω–æ –ø–æ–ª—É—á–∏—Ç—å —Ç–æ–ª—å–∫–æ GET –∑–∞–ø—Ä–æ—Å–æ–º –Ω–∞ https://asurso.ru/asp/Messages/composemessage.asp?at=[–≤–∞—àAt–¢–æ–∫–µ–Ω] –∏ –ø–∞—Ä—Å–∏–Ω–≥–æ–º HTML –∫–æ–¥–∞ —Å—Ç—Ä–∞–Ω–∏—Ü—ã (css-—Å–µ–ª–µ–∫—Ç–æ—Ä: form &gt; [name=AntiForgeryToken])

–¢–∞–∫–∂–µ –Ω—É–∂–Ω–æ –≤–º–µ—Å—Ç–µ —Å –∑–∞–ø—Ä–æ—Å–æ–º –Ω–∞ –æ—Ç–ø—Ä–∞–≤–∫—É –ø–æ—á—Ç—ã –æ—Ç–ø—Ä–∞–≤–∏—Ç—å –∫—É–∫–∏ —Å –∫–ª—é—á–æ–º AntiForgeryToken, –ø–æ–ª—É—á–µ–Ω–Ω–æ–µ –∏–∑ GET-–∑–∞–ø—Ä–æ—Å–∞ –Ω–∞ composemessage.asp

LTO ‚Äî ID –ø–æ–ª—É—á–∞—Ç–µ–ª—è

LCC ‚Äî ID –ø–æ–ª—É—á–∞—Ç–µ–ª—è –∫–æ–ø–∏–∏

LBC ‚Äî ID –ø–æ–ª—É—á–∞—Ç–µ–ª—è —Å–∫—Ä—ã—Ç–æ–π –∫–æ–ø–∏–∏

ATO, ACC, ABC ‚Äî —Ç—Ä–∏ –ø–æ–ª—è –≤—ã—à–µ, –Ω–æ –≤ –≤–∏–¥–µ —Ç–µ–∫—Å—Ç–∞ (–Ω–µ –æ–±—Ä–∞–±–∞—Ç—ã–≤–∞—é—Ç—Å—è –±–µ–∫–µ–Ω–¥–æ–º)

NEEDNOTIFY ‚Äî –Ω–µ–æ–±—è–∑–∞—Ç–µ–ª—å–Ω–æ, –µ—Å–ª–∏ —É—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–æ –∑–Ω–∞—á–µ–Ω–∏–µ 1, –±—É–¥–µ—Ç –ø–æ–ª—É—á–µ–Ω–æ —É–≤–µ–¥–æ–º–ª–µ–Ω–∏–µ –æ –ø—Ä–æ—á—Ç–µ–Ω–∏–∏

MID, TA, NA, PP, DMID, RT, DESTINATION, STMSGREPORT ‚Äî –Ω–µ–∏–∑–≤–µ—Å—Ç–Ω–æ, —á—Ç–æ –¥–µ–ª–∞—é—Ç —ç—Ç–∏ –ø–æ–ª—è, –æ–Ω–∏ –ø—É—Å—Ç—ã–µ

attachment ‚Äî –Ω–µ–æ–±—è–∑–∞—Ç–µ–ª—å–Ω–æ, ID –≤–ª–æ–∂–µ–Ω–Ω–æ–≥–æ —Ñ–∞–π–ª–∞

## –ù–æ–≤–æ—Å—Ç–∏ (–æ–±—ä—è–≤–ª–µ–Ω–∏—è)

–î–ª—è –ø–æ–ª—É—á–µ–Ω–∏—è –Ω–æ–≤–æ—Å—Ç–µ–π –∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è –º–µ—Ç–æ–¥ GET –Ω–∞ `https://asurso.ru/webapi/announcements` —Å query-–ø–∞—Ä–∞–º–µ—Ç—Ä–∞–º–∏ take –∏ fullVersion, –ø–µ—Ä–≤—ã–π —É–∫–∞–∑—ã–≤–∞–µ—Ç –∫–æ–ª-–≤–æ –ø–æ–ª—É—á–∞–µ–º—ã—Ö –Ω–æ–≤–æ—Å—Ç–µ–π –≤ –º–∞—Å—Å–∏–≤–µ, –∞ –≤—Ç–æ—Ä–æ–π –Ω–µ–∏–∑–≤–µ—Å—Ç–Ω–æ —á—Ç–æ. –í –æ—Ç–≤–µ—Ç –ø–æ–ª—É—á–∞–µ–º JSON –º–∞—Å—Å–∏–≤ —Å –Ω–æ–≤–æ—Å—Ç—è–º–∏. –ï—Å–ª–∏ –∫ –Ω–æ–≤–æ—Å—Ç–∏ –ø—Ä–∏–∫—Ä–µ–ø–ª–µ–Ω —Ñ–∞–π–ª, –æ–Ω –±—É–¥–µ—Ç –≤ –º–∞—Å—Å–∏–≤–µ –æ–±—ä–µ–∫—Ç–æ–≤ attachments, –≥–¥–µ –ø–æ—á–µ–º—É-—Ç–æ –µ—Å—Ç—å –Ω–∞–∑–≤–∞–Ω–∏–µ –∏—Å—Ö–æ–¥–Ω–æ–≥–æ —Ñ–∞–π–ª–∞ originalFileName.

–í–æ–æ–±—â–µ-—Ç–æ —ç—Ç–æ —É—è–∑–≤–∏–º–æ—Å—Ç—å –≤ –±–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç–∏ —Å–µ—Ä–≤–∏—Å–∞, –ø–æ–∂–∞–ª—É–π—Å—Ç–∞ –≤—Å–µ–≥–¥–∞ —Å–∫—Ä—ã–≤–∞–π—Ç–µ –Ω–∞–∑–≤–∞–Ω–∏–µ –∏—Å—Ö–æ–¥–Ω–æ–≥–æ —Ñ–∞–π–ª–∞ –∏–ª–∏ —Ö–æ—Ç—è –±—ã –ø—Ä–µ–¥—É–ø—Ä–µ–∂–¥–∞–π—Ç–µ –æ –µ–≥–æ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–∏ –∑–∞–≥—Ä—É–∑—á–∏–∫–∞.

–ß—Ç–æ–±—ã —Å–∫–∞—á–∞—Ç—å —Ñ–∞–π–ª –Ω–∞–¥–æ —Å–¥–µ–ª–∞—Ç—å –∑–∞–ø—Ä–æ—Å –Ω–∞ `https://asurso.ru/webapi/attachments/[fileID]` –∏ –≤ –æ—Ç–≤–µ—Ç –ø–æ–ª—É—á–∏–º —Å–∞–º —Ñ–∞–π–ª —Å —Å–æ–æ—Ç–≤–µ—Ç—Å—Ç–≤—É—é—â–∏–º –∑–∞–≥–æ–ª–æ–≤–∫–æ–º content-type, –Ω–∞–ø—Ä–∏–º–µ—Ä application/msword. –¢–∞–∫–∂–µ –≤ –æ—Ç–≤–µ—Ç–µ –±—É–¥—É—Ç –∑–∞–≥–æ–ª–æ–≤–∫–∏ filename —Å url-encoded –Ω–∞–∑–≤–∞–Ω–∏–µ–º —Ñ–∞–π–ª–∞, expires —Ä–∞–≤–Ω—ã–π -1, content-disposition –∏ content-length.

## –ü–æ—Ä—Ç—Ñ–æ–ª–∏–æ

–í –ø–æ—Ä—Ç—Ñ–æ–ª–∏–æ –º–æ–∂–Ω–æ —Å–æ–∑–¥–∞–≤–∞—Ç—å —Å–≤–æ–∏ —Å–æ–±—Å—Ç–≤–µ–Ω–Ω—ã–µ —Ä–∞–∑–¥–µ–ª—ã –∏ —Ä–µ–¥–∞–∫—Ç–∏—Ä–æ–≤–∞—Ç—å —Ç–µ, —á—Ç–æ –¥–æ–±–∞–≤–ª–µ–Ω—ã –ø–æ —É–º–æ–ª—á–∞–Ω–∏—é.

![image](https://user-images.githubusercontent.com/59040542/149619710-0b1b08c6-30a9-4a29-a27e-c80a300f0c92.png)

## –ó–∞–ø—Ä–æ—Å –≥–µ–Ω–µ—Ä–∞—Ü–∏–∏ —Ñ–∞–π–ª–æ–≤ –∏ —Ä–∞–±–æ—Ç–∞ –≤ real-time

–ö–∞–∫ –º—ã —É–∂–µ –ø–æ–Ω—è–ª–∏, –∞—Å—É—Ä—Å–æ —Ä–∞–±–æ—Ç–∞–µ—Ç –Ω–∞ asp, asp —Ä–∞–±–æ—Ç–∞–µ—Ç –Ω–∞ c#, c# —Å–¥–µ–ª–∞–Ω microsoft, microsoft —É–ø—Ä–∞–≤–ª—è–µ—Ç—Å—è –±–∏–ª–ª–æ–º –≥–µ–π—Ç—Å–æ–º, –∞ –æ–Ω –≤ —Å–≤–æ—é –æ—á–µ—Ä–µ–¥—å —Ä–µ–ø—Ç–∏–ª–æ–∏–¥, –ø–æ—ç—Ç–æ–º—É —Å–¥–µ–ª–∞–ª SignalR —á—Ç–æ–±—ã –≤—ã—Å–∞—Å—ã–≤–∞—Ç—å –∏–∑ –ª—é–¥–µ–π –¥—É—à—É –∏ –∂–∏–∑–Ω–µ–Ω–Ω–Ω—ã–µ —Å–∏–ª—ã –ø–æ–∫–∞ –æ–Ω–∏ —Å –Ω–∏–º —Ä–∞–∑–±–∏—Ä–∞—é—Ç—Å—è.

–í –ê–°–£ –†–°–û –¥–ª—è –≥–µ–Ω–µ—Ä–∞—Ü–∏–∏ —Ñ–∞–π–ª–æ–≤, –Ω–∞–ø—Ä–∏–º–µ—Ä –û—Ç—á–µ—Ç –æ–± —É—Å–ø–µ–≤–∞–µ–º–æ—Å—Ç–∏, –Ω–µ–æ–±—Ö–æ–¥–∏–º–æ –∑–∞–ø—Ä–æ—Å–∏—Ç—å –µ–≥–æ —á–µ—Ä–µ–∑ –≤–µ–±-—Å–æ–∫–µ—Ç. –ß—Ç–æ–±—ã —Å–æ–∫—Ä–∞—Ç–∏—Ç—å —Ä–∞–∑–º–µ—Ä –ø–∞–∫–µ—Ç–∞ –Ω–∞ 1.18 –ú–ë (–∞ –∏–º–µ–Ω–Ω–æ —Å—Ç–æ–ª—å–∫–æ –≤–µ—Å–∏—Ç –æ—Ñ–∏—Ü–∏–∞–ª—å–Ω—ã–π –∫–ª–∏–µ–Ω—Ç signalr), —è —Ä–µ—à–∏–ª —Ä–∞–±–æ—Ç–∞—Ç—å –Ω–∞–ø—Ä—è–º—É—é.

1. –°–¥–µ–ª–∞–µ–º GET-–∑–∞–ø—Ä–æ—Å –Ω–∞ https://asurso.ru/WebApi/signalr/negotiate c –ø–∞—Ä–∞–º–µ—Ç—Ä–∞–º–∏

clientProtocol=1.5
at=–≤–∞—à–ó–∞–≥–æ–ª–æ–≤–æ–∫At
connectionData=[{"name":"queuehub"}]

–ù–µ –∑–∞–±—É–¥—å—Ç–µ –≤—Å–µ —ç—Ç–æ –∑–∞–∫–æ–¥–∏—Ä–æ–≤–∞—Ç—å –≤ URL percent encoding

–¢–∞–∫–∂–µ –≤ –∫—É–∫–∏ –æ–±—è–∑—è—Ç–µ–ª—å–Ω–æ —É–∫–∞–∑—ã–≤–∞–µ–º ESRNSec —Ç–æ–∫–µ–Ω. –ó–∞–≥–æ–ª–æ–≤–æ–∫ at –Ω–µ –Ω—É–∂–µ–Ω.

–í –æ—Ç–≤–µ—Ç –ø–æ–ª—É—á–∞–µ–º JSON –æ—Ç —Å–µ—Ä–≤–µ—Ä–∞ SignalR —Å–ª–µ–¥—É—é—â–µ–≥–æ –≤–∏–¥–∞:

```json
{
    "Url": "/WebApi/signalr",
    "ConnectionToken": "aksjdjklaslk/knasndbhulqhfgsykgdfyky23fsd/lq3grbhasdbsjkhrhvkqlildfhsjlfdo",
    "ConnectionId": "ajskdhjd-1i23ukv-aisyd-1289-fildshn1823",
    "KeepAliveTimeout": 20,
    "DisconnectTimeout": 30,
    "ConnectionTimeout": 110,
    "TryWebSockets": true,
    "ProtocolVersion": "1.5",
    "TransportConnectTimeout": 5,
    "LongPollDelay": 0
}
```

Url ‚Äî –∞–¥—Ä–µ—Å –∫—É–¥–∞ –Ω–∞–¥–æ –¥–µ–ª–∞—Ç—å —Å–ª–µ–¥—É—é—â–∏–π –∑–∞–ø—Ä–æ—Å (–∫–æ–Ω—Å—Ç–∞–Ω—Ç–∞)
ConnectionId ‚Äî —ç—Ç–æ UUIDv4
ConnectionToken ‚Äî —Ç–æ–∫–µ–Ω –¥–ª—è –ø–æ–¥–∫–ª—é—á–µ–Ω–∏—è, –µ–≥–æ –Ω–∞–¥–æ –±—É–¥–µ—Ç –ø–µ—Ä–µ–¥–∞—Ç—å
ProtocolVersion ‚Äî –≤–µ—Ä—Å–∏—è, –µ–µ —Ç–æ–∂–µ –Ω–∞–¥–æ –±—É–¥–µ—Ç –ø–µ—Ä–µ–¥–∞—Ç—å

–û—Å—Ç–∞–ª—å–Ω–æ–µ –Ω–∞—Å –Ω–µ –∏–Ω—Ç–µ—Ä–µ—Å—É–µ—Ç

2. –°–æ–∑–¥–∞–µ–º –≤–µ–±-—Å–æ–∫–µ—Ç GET-–∑–∞–ø—Ä–æ—Å–æ–º –Ω–∞ –∞–¥—Ä–µ—Å `wss://asurso.ru/WebApi/signalr/connect` —Å –ø–∞—Ä–∞–º–µ—Ç—Ä–∞–º–∏: (URL-–ø–∞—Ä–∞–º–µ—Ç—Ä—ã, —á–µ—Ä–µ–∑ &)

transport=webSockets
clientProtocol=1.5
at=–≤–∞—à–ó–∞–≥–æ–ª–æ–≤–æ–∫At
connectionToken=—Ç–æ–∫–µ–Ω–ü–æ–¥–∫–ª—é—á–µ–Ω–∏—è
connectionData=[{"name":"queuehub"}]

–ü–∞—Ä–∞–º–µ—Ç—Ä tid –Ω–µ –æ–±—è–∑–∞—Ç–µ–ª–µ–Ω.

**–í–∞–∂–Ω–æ!!** –æ–±—è–∑–∞—Ç–µ–ª—å–Ω–æ –≤ –∑–∞–≥–æ–ª–æ–≤–∫–µ –≤ –∑–∞–ø—Ä–æ—Å–µ –Ω–∞ —Å–æ–∑–¥–∞–Ω–∏–µ –≤–µ–±-—Å–æ–∫–µ—Ç–∞ –Ω—É–∂–Ω–æ –ø–æ—Å–ª–∞—Ç—å –∫—É–∫–∏ ESRNSec —Ç–æ–∫–µ–Ω, –∏–Ω–∞—á–µ –ø–æ–ª—É—á–∏–º –æ—Ç–≤–µ—Ç 403 Forbidden –æ—Ç SignalR.

–¢–∞–∫–∂–µ –º–µ–∂–¥—É –ø–æ–ª—É—á–µ–Ω–∏–µ–º —Ç–æ–∫–µ–Ω–∞-–ø–æ–¥–∫–ª—é—á–µ–Ω–∞ –∏ —Å–æ–∑–¥–∞–Ω–∏–µ–º —Å–æ–∫–µ—Ç–∞ —Å—Ç–æ–∏—Ç –ø–æ–¥–æ–∂–¥–∞—Ç—å –æ–∫–æ–ª–æ —Å–µ–∫—É–Ω–¥—ã.

3. –ü–æ–¥–∫–ª—é—á–∏–≤—à–∏—Å—å –∫ SignalR —Å—Ä–∞–∑—É –ø–æ–ª—É—á–∞–µ–º –∫–∞–∫–∏–µ-—Ç–æ –∫—Ä–∏–ø—Ç–æ-—Å–æ–æ–±—â–µ–Ω–∏—è, –∏—Ö –Ω–∞–¥–æ –∏–≥–Ω–æ—Ä–∏—Ä–æ–≤–∞—Ç—å. –° –æ—Ç–∫—Ä—ã—Ç—ã–º —Å–æ–∫–µ—Ç–æ–º –ø–∞—Ä–∞–ª–ª–µ–ª—å–Ω–æ –æ—Ç–ø—Ä–∞–≤–ª—è–µ–º –æ–±—ã—á–Ω—ã–π GET-–∑–∞–ø—Ä–æ—Å –Ω–∞ https://asurso.ru/WebApi/signalr/start —Å–æ —Å–ª–µ–¥—É—é—â–∏–º–∏ –ø–∞—Ä–∞–º–µ—Ç—Ä–∞–º–∏:

transport: webSockets
clientProtocol: 1.5
at: –≤–∞—àAt–ö–ª—é—á
connectionToken: –≤–∞—à–¢–æ–∫–µ–Ω–ü–æ–¥–∫–ª—é—á–µ–Ω–∏—è
connectionData: [{"name":"queuehub"}]

–û–±—è–∑–∞—Ç–µ–ª—å–Ω–æ –≤ –∑–∞–≥–æ–ª–æ–≤–∫–µ –æ—Ç–ø—Ä–∞–≤–ª—è–µ–º –∫—É–∫–∏ ESRNSec, –¥–æ–∂–∏–¥–∞–µ–º—Å—è –æ—Ç–≤–µ—Ç–∞ –∏ –∏–≥–Ω–æ—Ä–∏—Ä—É–µ–º –µ–≥–æ —Å–æ–¥–µ—Ä–∂–∞–Ω–∏–µ.

4. –¢–µ–ø–µ—Ä—å –≤–æ–∑–≤—Ä–∞—â–∞–µ–º—Å—è –∫ –≤–µ–±-—Å–æ–∫–µ—Ç—É –∏ –æ—Ç–ø—Ä–∞–≤–ª—è–µ–º —Å–æ–æ–±—â–µ–Ω–∏–µ `{"H":"queuehub","M":"StartTask","A":[13600184],"I":0}`. 13600184 ‚Äî —ç—Ç–æ –Ω–æ–º–µ—Ä –∑–∞–¥–∞—á–∏, –ø—Ä–∏–≤—è–∑–∞–Ω–Ω—ã–π –∫ –≥–µ–Ω–µ—Ä–∞—Ü–∏–∏ –û—Ç—á–µ—Ç–∞ –æ–± —É—Å–ø–µ–≤–∞–µ–º–æ—Å—Ç–∏ –∏ –ø–æ—Å–µ—â–∞–µ–º–æ—Å—Ç–∏ —É—á–µ–Ω–∏–∫–∞ (PDF –≤–µ—Ä—Å–∏—è). –Ø –¥–æ–ª–≥–æ –∏—Å–∫–∞–ª –≤ –∫–æ–¥–µ —Å–∞–π—Ç–∞, –∫–∞–∫ –≥–µ–Ω–µ—Ä–∏—Ä—É–µ—Ç—Å—è ID —Ç–∞—Å–∫–æ–≤, –Ω–æ —Ç–∞–∫ –∏ –Ω–µ –ø–æ–Ω—è–ª. –ù–∞ –¥–∞–Ω–Ω—ã–π –º–æ–º–µ–Ω—Ç –º–æ–∂–Ω–æ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å –ø–æ–≤—Ç–æ—Ä–Ω–æ –ø—Ä–µ–¥—ã–¥—É—â–∏–µ. –ò—Å—Ö–æ–¥—è –∏–∑ —Ä–µ–∑—É–ª—å—Ç–∞—Ç–æ–≤ –º–æ–∏—Ö —ç–∫—Å–ø–µ—Ä–∏–º–µ–Ω—Ç–æ–≤, –¥—Ä—É–≥–∏–µ —á–∏—Å–ª–∞ –∏ –æ—Ç—Å—É—Ç—Å—Ç–≤–∏–µ –ø–∞—Ä–∞–º–µ—Ç—Ä–∞ A –≤–æ–∑–≤—Ä–∞—â–∞–µ—Ç –æ—à–∏–±–∫—É `{"I":"0","E":"There was an error invoking Hub method 'queuehub.StartTask'."}`, —Ç–∞–∫—É—é –∂–µ –æ—à–∏–±–∫—É –ø–æ–ª—É—á–∞–µ–º –µ—Å–ª–∏ –æ—Ç–ø—Ä–∞–≤–∏—Ç—å —Å–æ–æ–±—â–µ–Ω–∏–µ –¥–æ —Ç—Ä–µ—Ç—å–µ–≥–æ —à–∞–≥–∞.

–ü–æ—Å–ª–µ —É—Å–ø–µ—à–Ω–æ–π –æ—Ç–ø—Ä–∞–≤–∫–∏ –ø–æ–ª—É—á–∏–º –æ—Ç–≤–µ—Ç `{"I":"0"}` (–Ω–æ —ç—Ç–æ –Ω–µ —Ç–æ—á–Ω–æ), –ø–æ—Ç–æ–º `{"C":"s-0,...","M":[{"H":"QueueHub","M":"progress","A":[{"TaskId":13600184,"Status":"–í –ø—Ä–æ—Ü–µ—Å—Å–µ –æ–±—Ä–∞–±–æ—Ç–∫–∏"}]}]}` –∏ –Ω–∞–∫–æ–Ω–µ—Ü `{"C":"s-0,1DBE6D4","M":[{"H":"QueueHub","M":"complete","A":[{"TaskId":13600184,"Data":"..."}]}]}`. –ò–º–µ–Ω–Ω–æ Data –∏ –±—É–¥–µ—Ç ID —Ñ–∞–π–ª–∞. –ù–æ –Ω–µ —Ç–æ—Ä–æ–ø–∏—Ç–µ—Å—å –ø–æ–ª—É—á–∞—Ç—å –µ–≥–æ ‚Äî –º—ã –µ—â–µ –Ω–µ —É—Ç–æ—á–Ω–∏–ª–∏ —Ñ–æ—Ä–º–∞—Ç (html –∏–ª–∏ pdf) –∏ –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—é –æ –≥–µ–Ω–µ—Ä–∏—Ä—É–µ–º–æ–º –¥–æ–∫—É–º–µ–Ω—Ç–µ.

5. –î–µ–ª–∞–µ–º POST-–∑–∞–ø—Ä–æ—Å –Ω–∞ `https://asurso.ru/webapi/reports/studenttotal/queue` –∏ –µ—Å–ª–∏ —Ö–æ—Ç–∏–º –ø–æ–ª—É—á–∏—Ç—å –≤ –∏—Ç–æ–≥–µ PDF, –∞ –Ω–µ HTML (–ø–æ —É–º–æ–ª—á–∞–Ω–∏—é), —Ç–æ –¥–æ–±–∞–≤–ª—è–µ–º –≤ –∫–æ–Ω—Ü–µ –ø–∞—Ä–∞–º–µ—Ç—Ä `?output=Pdf`.

–í —Ç–µ–ª–µ –ø–µ—Ä–µ–¥–∞–µ–º JSON:

```json
{
  "selectedData": [
    {
      "filterId": "SID",
      "filterValue": "592640",
      "filterText": "–©–µ–ª–æ—á–∫–æ–≤ –í–∏–∫—Ç–æ—Ä"
    },
    {
      "filterId": "PCLID",
      "filterValue": "...",
      "filterText": "..."
    },
    {
      "filterId": "period",
      "filterValue": "2022-01-10T00:00:00.000Z - 2022-05-28T00:00:00.000Z",
      "filterText": "10.01.2022 - 28.05.2022"
    }
  ],
  "params": [
    {
      "name": "SCHOOLYEARID",
      "value": "..."
    },
    {
      "name": "SERVERTIMEZONE",
      "value": 4
    },
    {
      "name": "FULLSCHOOLNAME",
      "value": "..."
    },
    {
      "name": "DATEFORMAT",
      "value": "d\u0001mm\u0001yy\u0001."
    }
  ]
}
```

params –ø–µ—Ä–µ–¥–∞–≤–∞—Ç—å –Ω–µ –æ–±—è–∑–∞—Ç–µ–ª—å–Ω–æ, filterText —Ç–æ–∂–µ

–ù–µ –∑–∞–±—É–¥–µ–º —Ç–∞–∫–∂–µ –ø–µ—Ä–µ–¥–∞—Ç—å –∫—É–∫–∏ ESRNSec –∏ –∑–∞–≥–æ–ª–æ–≤–æ–∫ at.

–û—Ç–≤–µ—Ç –¥–æ–∂–∏–¥–∞–µ–º—Å—è –∏ –∏–≥–Ω–æ—Ä–∏—Ä—É–µ–º.

–ü–æ—Å–ª–µ —ç—Ç–æ–≥–æ –º–æ–∂–µ–º –ø–æ–ª—É—á–∏—Ç—å —Ä–µ–∑—É–ª—å—Ç–∞—Ç –ø—Ä–∏–≤—ã—á–Ω—ã–º –æ–±—Ä–∞–∑–æ–º: `https://asurso.ru/webapi/files/[fileID]`

6. (–ù–µ–æ–±—è–∑–∞—Ç–µ–ª—å–Ω–æ) –í—ã –º–æ–∂–µ—Ç–µ —Å–∞–º–∏ –æ—Ç–∫–ª—é—á–∏—Ç—å—Å—è –æ—Ç –≤–µ–±-—Å–æ–∫–µ—Ç–∞ –∏–ª–∏ –∑–∞–≤–µ—Ä—à–∏—Ç—å –µ–≥–æ —Å –ø–æ–º–æ—â—å—é —Å–µ—Ä–≤–µ—Ä–∞ SignalR –ø–æ—Å–ª–∞–≤ –µ—â–µ –æ–¥–∏–Ω POST-–∑–∞–ø—Ä–æ—Å –Ω–∞ `https://asurso.ru/WebApi/signalr/abort` —Å –ø–∞—Ä–∞–º–µ—Ç—Ä–∞–º–∏

transport: webSockets
clientProtocol: 1.5
at: –≤–∞—àAt–ö–ª—é—á
connectionToken: —Ç–æ–∫–µ–Ω–ü–æ–¥–∫–ª—é—á–µ–Ω–∏—è
connectionData: [{"name":"queuehub"}]

–¢–æ–≥–¥–∞ –≤–µ–±-—Å–æ–∫–µ—Ç –æ—Ç–∫–ª—é—á–∏—Ç—Å—è —Å–∞–º –ø–æ —Å–µ–±–µ.

## –§–æ—Ä—É–º

–§–æ—Ä—É–º –æ—Ç–∫—Ä—ã–≤–∞–µ—Ç—Å—è –≤ –æ—Ç–¥–µ–ª—å–Ω–æ–º –æ–∫–Ω–µ, –∞ HTML-–∫–æ–¥ —Å—Ç—Ä–∞–Ω–∏—Ü—ã –≥–µ–Ω–µ—Ä–∏—Ä—É–µ—Ç—Å—è –Ω–∞ —Å–µ—Ä–≤–µ—Ä–µ, –ø–æ—ç—Ç–æ–º—É —Å –ø–æ–ª—É—á–µ–Ω–∏–µ–º –¥–∞–Ω–Ω—ã—Ö –≤–æ–∑–Ω–∏–∫–∞—é—Ç –Ω–µ–∫–æ—Ç–æ—Ä—ã–µ —Å–ª–æ–∂–Ω–æ—Å—Ç–∏: —Å—Ç—Ä–∞–Ω–∏—Ü—É –Ω–∞–¥–æ –ø–∞—Ä—Å–∏—Ç—å –∏ —Å–µ–ª–µ–∫—Ç–æ—Ä–∞–º–∏ –∏—Å–∫–∞—Ç—å —Ç–µ–≥ table.

–í —Å–≥–µ–Ω–µ—Ä–∏—Ä–æ–≤–∞–Ω–Ω–æ–π —Ç–∞–±–ª–∏—Ü–µ —Å–æ —Å–ø–∏—Å–∫–æ–º —Ç–µ–º –Ω–∏–∫–æ–≥–¥–∞ –Ω–µ –±—É–¥–µ—Ç –æ—Ç–∫—Ä—ã–≤–∞—é—â–µ–≥–æ—Å—è —Ç–µ–≥–∞ &lt;tr&gt;, —Ç–æ–ª—å–∫–æ &lt;/tr&gt;

–° —Ñ–æ—Ä—É–º–∞ –Ω–∏—á–µ–≥–æ –Ω–µ–ª—å–∑—è —É–¥–∞–ª–∏—Ç—å

**–í—Ä–µ–º—è, —É–∫–∞–∑–∞–Ω–Ω–æ–µ –Ω–∞ —Å—Ç—Ä–∞–Ω–∏—Ü–µ —Ç–æ–∂–µ –≥–µ–Ω–µ—Ä–∏—Ä—É–µ—Ç—Å—è –Ω–∞ —Å–µ—Ä–≤–µ—Ä–µ, –ø–æ—ç—Ç–æ–º—É —á–∞—Å–æ–≤–æ–π –ø–æ—è—Å –≤—Å–µ—Ö –¥–∞—Ç ‚Äî –ï–≤—Ä–æ–ø–∞/–°–∞–º–∞—Ä–∞ (UTC+4:00)**

## –û—Ç–≤–µ—Ç—ã –Ω–∞ –∑–∞–¥–∞–Ω–∏—è

POST –∑–∞–ø—Ä–æ—Å –Ω–∞ `https://asurso.ru/webapi/assignments/[assignmentID]/answers?studentId=[studentID]` —Å –∑–∞–≥–æ–ª–æ–≤–∫–æ–º at –∏ —Ç–µ–ª–æ–º x-www-form-urlencoded `=text` ‚Äî –¥–ª—è —Ç–µ–∫—Å—Ç–∞ (–∫–ª—é—á–∞ –Ω–µ—Ç), –ø—Ä–∏–¥–µ—Ç 204; –¥–ª—è —Ä–µ–¥–∞–∫—Ç–∏—Ä–æ–≤–∞–Ω–∏—è –æ—Ç–ø—Ä–∞–≤–∏—Ç—å —Ç–æ—Ç –∂–µ –∑–∞–ø—Ä–æ—Å; –¥–ª—è —É–¥–∞–ª–µ–Ω–∏—è —Ç–æ–ª—å–∫–æ `=`

–î–ª—è –ø—Ä–∏–∫—Ä–µ–ø–ª–µ–Ω–∏—è —Ñ–∞–π–ª–∞ –Ω–µ –Ω—É–∂–Ω–æ –¥–µ–ª–∞—Ç—å –¥–æ–ø. –∑–∞–ø—Ä–æ—Å–æ–≤, –ø—Ä–æ—Å—Ç–æ –∑–∞–≥—Ä—É–∂–∞–µ–º —Ñ–∞–π–ª –∏ –≤ —Ç–µ–ª–µ —É–∫–∞–∑—ã–≤–∞–µ–º `assignmentId` –∏ `assignmentFileResult: true`

## –ó–∞–≥—Ä—É–∑–∫–∞ —Ñ–∞–π–ª–æ–≤

POST –Ω–∞ https://asurso.ru/webapi/attachments —Å –∑–∞–≥–æ–ª–æ–≤–∫–æ–º at, content-type: multipart/form-data (—Å–∞–º–æ—Å—Ç–æ—è—Ç–µ–ª—å–Ω–æ –≤ –∑–∞–≥–æ–ª–æ–≤–∫–∞—Ö –Ω–µ —É–∫–∞–∑—ã–≤–∞—Ç—å, —á—Ç–æ–±—ã —Å–≥–µ–Ω–µ—Ä–∏—Ä–æ–≤–∞–ª—Å—è boundary!!!), —Ç–µ–ª–æ:

```
file: (binary)
data: {"name":"empty.txt","description":"-"}
```

–ù–∞–∑–≤–∞–Ω–∏–µ –º–æ–∂–µ—Ç –±—ã—Ç—å –ª—é–±—ã–º, –∞ description –º–æ–∂–µ—Ç –±—ã—Ç—å null. –í –æ—Ç–≤–µ—Ç –ø—Ä–∏–¥–µ—Ç ID —Ñ–∞–π–ª–∞ –≤ plain text

–î–ª—è —É–¥–∞–ª–µ–Ω–∏—è —Å–¥–µ–ª–∞–π—Ç–µ –∑–∞–ø—Ä–æ—Å —Å –º–µ—Ç–æ–¥–æ–º DELETE –Ω–∞ `https://asurso.ru/webapi/attachments/[attachmentID]` –∏ –∑–∞–≥–æ–ª–æ–≤–∫–æ–º at.

## –î—Ä—É–≥–∏–µ –∏–Ω—Ç–µ—Ä–µ—Å–Ω–æ—Å—Ç–∏

-   ![image](https://user-images.githubusercontent.com/59040542/149437135-172a14fe-b64c-49ad-9345-9e742a3dc7ac.png) \\
    ESRNSec —Å–æ—Å—Ç–∞–≤–ª—è–µ—Ç—Å—è –∏–∑ –º–Ω–æ–∂–µ—Å—Ç–≤–∞ ID —Å–µ—Å—Å–∏–π aspnet, —Ä–∞–∑–¥–µ–ª–µ–Ω–Ω—ã—Ö —Å–∏–º–≤–æ–ª–æ–º &. –¢–æ –µ—Å—Ç—å, –ø–µ—Ä–µ—Ö–æ–¥—è –ø–æ —Å—Ç—Ä–∞–Ω–∏—Ü–∞–º, –≤—ã –ø–æ–ª—É—á–∞–µ—Ç–µ –Ω–æ–≤—ã–µ ID –∫–æ—Ç–æ—Ä—ã–µ –¥–æ–±–∞–≤–ª—è–µ—Ç—Å—è –≤ –æ–¥–∏–Ω –∏ —Ç–æ—Ç –∂–µ –∫—É–∫–∏, –Ω–µ –∑–Ω–∞—é –∑–∞—á–µ–º —ç—Ç–æ –Ω—É–∂–Ω–æ. –≠—Ç–æ —á—Ç–æ-—Ç–æ –Ω–∞ –∞—Å–ø–æ–≤—Å–∫–æ–º üò¨

-   GET-–ó–∞–ø—Ä–æ—Å –Ω–∞ `https://asurso.ru/webapi/grade/assignment/types?all=false` –¥–∞–µ—Ç –Ω–∞–º —Ä–∞—Å—à–∏—Ñ—Ä–æ–≤–∫—É –∞–±–±—Ä–µ–≤–∏–∞—Ç—É—Ä –Ω–∞ —Å–∞–π—Ç–µ

-   GET-–ó–∞–ø—Ä–æ—Å –Ω–∞ `https://asurso.ru/webapi/educcertificates/student/[id]` –¥–∞–µ—Ç –Ω–∞–º –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—é –æ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ, –Ω–æ –Ω–µ —Ç–∞–∫ –ø—Ä–æ—Å—Ç–æ: –¥–ª—è —ç—Ç–æ–≥–æ –Ω—É–∂–Ω–æ —Å–æ—Å—Ç–∞–≤–∏—Ç—å —Å–ª–æ–∂–Ω—ã–π ESRNSec. –ê –µ—Å–ª–∏ –ø–æ–¥—Å—Ç–∞–≤–∏—Ç—å –Ω–µ—Å—É—â–µ—Å—Ç–≤—É—é—â–∏–π studentID, —Ç–æ –ø–æ–ª—É—á–∏–º —Ç–∞–∫–æ–µ —Å–æ–æ–±—â–µ–Ω–∏–µ: `–ù–µ —É–¥–∞–ª–æ—Å—å –ø–æ–ª—É—á–∏—Ç—å –¥–∞–Ω–Ω—ã–µ –æ —Å–µ—Ä—Ç–∏—Ñ–∏–∫–∞—Ç–µ.`, –Ω–µ –∑–Ω–∞—é –ø—Ä–∏ —á–µ–º —Ç—É—Ç —Å–µ—Ä—Ç–∏—Ñ–∏–∫–∞—Ç. –≠—Ç–æ —á—Ç–æ-—Ç–æ –Ω–∞ –∞—Å—É—Ä—Å–æ–≤—Å–æ–º üò¨ –ê –µ—Å–ª–∏ –ø–æ–¥—Å—Ç–∞–≤–∏—Ç—å —Å—É—â–µ—Å—Ç–≤—É—é—â–∏–π, —Ç–æ –ª–∏—á–Ω–æ —è –ø–æ–ª—É—á–∞—é null (–∫—Ä–æ–º–µ —Å–æ–±—Å—Ç–≤–µ–Ω–Ω–æ–≥–æ studentID)

-   –†–∞–∑–Ω—ã–µ –≤–∞—à–∏ —Å–µ—Å—Å–∏–∏ –æ—Ç–æ–±—Ä–∞–∂–∞—é—Ç—Å—è –∫–∞–∫ —Ä–∞–∑–Ω—ã–µ –ª—é–¥–∏ –≤ —Å–ø–∏—Å–∫–µ –æ–Ω–ª–∞–π–Ω–∞

-   –°–¥–µ–ª–∞–π—Ç–µ GET-–∑–∞–ø—Ä–æ—Å –Ω–∞ https://asurso.ru/webapi/attachments/uploadLimits –±–µ–∑ –∑–∞–≥–æ–ª–æ–≤–∫–∞ at, —á—Ç–æ–±—ã –ø–æ–ª—É—á–∏—Ç—å –ª–∏–º–∏—Ç—ã –Ω–∞ –∑–∞–≥—Ä—É–∑–∫—É —Ñ–∞–π–ª–∞

-   –ï—Å–ª–∏ –≤ –∞–¥—Ä–µ—Å–µ –Ω–∞ –ª—é–±—É—é —Å—Ç—Ä–∞–Ω–∏—Ü—É —É–∫–∞–∑–∞–Ω –ø–∞—Ä–∞–º–µ—Ç—Ä at, —Ç–æ –µ–≥–æ –∂–µ –≤ —Ç–µ–ª–µ –∑–∞–ø—Ä–æ—Å–∞ –ø—Ä–∏—Å—ã–ª–∞—Ç—å –Ω–µ –Ω—É–∂–Ω–æ, –¥–æ—Å—Ç–∞—Ç–æ—á–Ω–æ —Å–¥–µ–ª–∞—Ç—å GET –∑–∞–ø—Ä–æ—Å